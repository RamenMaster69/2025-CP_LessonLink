{% load markdown_filter %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ draft.title }} - Professional Lesson Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#2563eb',
                        'secondary': '#3b82f6',
                        'accent': '#06b6d4',
                        'success': '#10b981',
                        'warning': '#f59e0b',
                        'purple': '#8b5cf6',
                        'dark': '#1f2937',
                        'light': '#f8fafc'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-header {
            background: linear-gradient(135deg, #1e40af 0%, #2563eb 25%, #3b82f6 50%, #06b6d4 75%, #0891b2 100%);
            position: relative;
            overflow: hidden;
        }
        
        .gradient-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            animation: float 20s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(180deg); }
        }
        
        .card-shadow {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            transition: box-shadow 0.3s ease;
        }
        
        .divider-line {
            background: linear-gradient(90deg, transparent 0%, #e5e7eb 20%, #e5e7eb 80%, transparent 100%);
            height: 2px;
            position: relative;
        }
        
        .divider-line::after {
            content: '';
            position: absolute;
            top: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 8px;
            background: #3b82f6;
            border-radius: 50%;
        }
        
        .info-badge {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #dbeafe 100%);
            border: 2px solid #93c5fd;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .activity-card {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border-left: 5px solid #3b82f6;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-radius: 0 12px 12px 0;
            position: relative;
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .section-icon {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }
        
        .time-badge {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
        }
        
        .nav-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(59, 130, 246, 0.1);
        }
        
        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .lesson-content h1 {
            font-size: 2rem;
            font-weight: 800;
            color: #1e40af;
            margin-bottom: 1.5rem;
            border-bottom: 4px solid #3b82f6;
            padding-bottom: 0.75rem;
            position: relative;
        }
        
        .lesson-content h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 1rem;
            margin-top: 2rem;
            position: relative;
            padding-left: 1rem;
        }
        
        .lesson-content h2::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, #3b82f6, #06b6d4);
        }
        
        .approval-section {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            position: relative;
        }
        
        .approval-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #06b6d4, #10b981);
        }
        
        .signature-box {
            background: #ffffff;
            border: 2px solid #e5e7eb;
        }
        
        /* Status badge styles */
        .status-draft { background-color: #f3f4f6; color: #374151; }
        .status-submitted { background-color: #fef3c7; color: #92400e; }
        .status-approved { background-color: #d1fae5; color: #065f46; }
        .status-rejected { background-color: #fee2e2; color: #991b1b; }
        .status-needs_revision { background-color: #ffedd5; color: #9a3412; }
        .status-final { background-color: #dbeafe; color: #1e40af; }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50 font-inter min-h-screen">
    <!-- Enhanced Navigation Bar -->
    <nav class="nav-gradient shadow-lg sticky top-0 z-50">
        <div class="max-w-6xl mx-auto px-6 py-4">
            <div class="flex justify-between items-center">
                <button onclick="goBack()" class="flex items-center space-x-3 bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white px-6 py-3 rounded-xl font-medium transition-all duration-300 hover:shadow-lg transform hover:scale-105">
                    <i class="fas fa-arrow-left"></i>
                    <span>Back to Drafts</span>
                </button>
                
                <div class="flex items-center space-x-4">
                    <!-- Status Badge -->
                    {% if draft.auto_approved %}
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                        <i class="fas fa-crown mr-2"></i>Auto-Approved
                    </span>
                    {% endif %}
                    {% if latest_submission %}
                    <span class="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium status-{{ latest_submission.status }}">
                        <i class="fas fa-{% if latest_submission.status == 'approved' %}check{% elif latest_submission.status == 'rejected' %}times{% elif latest_submission.status == 'needs_revision' %}exclamation{% else %}clock{% endif %} mr-2"></i>
                        {{ latest_submission.get_status_display }}
                    </span>
                    {% else %}
                    <span class="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium status-draft">
                        <i class="fas fa-edit mr-2"></i>
                        Draft
                    </span>
                    {% endif %}
                    
                    <a href="{% url 'edit_draft' draft.id %}" class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-6 py-3 rounded-xl text-sm font-semibold transition-all duration-300 hover:shadow-lg transform hover:scale-105">
                        <i class="fas fa-edit mr-2"></i>Edit Draft
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Container -->
    <div class="max-w-6xl mx-auto bg-white card-shadow mt-8 mb-8 rounded-2xl overflow-hidden fade-in">
        <!-- Enhanced Professional Header -->
        <div class="gradient-header text-white px-8 py-12 relative">
            <div class="text-center relative z-10">
                <div class="mb-4">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-file-alt text-2xl text-white"></i>
                    </div>
                </div>
                <h1 class="text-4xl font-black tracking-wide mb-3">PROFESSIONAL LESSON PLAN</h1>
                <div class="w-32 h-1 bg-white/40 mx-auto mb-4"></div>
                <p class="text-blue-100 font-semibold text-lg">{{ draft.title }}</p>
                <p class="text-blue-200 text-sm mt-3 bg-white/10 inline-block px-4 py-2 rounded-full">
                    <i class="fas fa-calendar mr-2"></i>Created on {{ draft.created_at|date:"F d, Y" }}
                </p>
            </div>
        </div>

        <!-- Lesson Plan Content -->
        <div class="p-8 lg:p-12">
            <div class="lesson-content space-y-10">
                <!-- Enhanced Lesson Information Section -->
                <div class="bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-100 rounded-2xl p-8 border-2 border-blue-200 relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white/20 rounded-full -translate-y-16 translate-x-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white/20 rounded-full translate-y-12 -translate-x-12"></div>
                    
                    <h2 class="text-3xl font-bold text-dark mb-8 flex items-center relative z-10">
                        <div class="section-icon w-12 h-12 bg-primary rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-info-circle text-white text-xl"></i>
                        </div>
                        Lesson Overview
                    </h2>
                    
                    <div class="info-grid grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10">
                        <div class="info-badge rounded-xl p-6">
                            <label class="block text-sm font-bold text-primary mb-3 uppercase tracking-wider">Subject Area</label>
                            <p class="text-dark font-bold text-2xl">{{ draft.subject|default:"Not specified" }}</p>
                        </div>
                        <div class="info-badge rounded-xl p-6">
                            <label class="block text-sm font-bold text-primary mb-3 uppercase tracking-wider">Grade Level</label>
                            <p class="text-dark font-bold text-2xl">{{ draft.grade_level|default:"Not specified" }}</p>
                        </div>
                        <div class="info-badge rounded-xl p-6">
                            <label class="block text-sm font-bold text-primary mb-3 uppercase tracking-wider">Duration</label>
                            <p class="text-dark font-bold text-2xl">{{ draft.duration|default:"0" }} minutes</p>
                        </div>
                        <div class="info-badge rounded-xl p-6">
                            <label class="block text-sm font-bold text-primary mb-3 uppercase tracking-wider">Class Size</label>
                            <p class="text-dark font-bold text-2xl">{{ draft.population|default:"0" }} students</p>
                        </div>
                        {% if draft.quarter %}
                        <div class="info-badge rounded-xl p-6">
                            <label class="block text-sm font-bold text-primary mb-3 uppercase tracking-wider">Quarter</label>
                            <p class="text-dark font-bold text-2xl">{{ draft.quarter }}</p>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <div class="divider-line mb-10"></div>

                <!-- Learning Objectives -->
                {% if draft.learning_objectives %}
                <div class="mb-10">
                    <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
                        <div class="section-icon w-10 h-10 bg-success rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-bullseye text-white text-lg"></i>
                        </div>
                        Learning Objectives
                    </h3>
                    <div class="bg-gradient-to-br from-emerald-50 to-green-100 rounded-2xl p-8 border-l-8 border-emerald-500">
                        <div class="whitespace-pre-wrap text-gray-700 text-lg leading-relaxed">{{ draft.learning_objectives }}</div>
                    </div>
                </div>
                {% endif %}

                <!-- Subject Matter -->
                {% if draft.subject_matter %}
                <div class="mb-10">
                    <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
                        <div class="section-icon w-10 h-10 bg-purple rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-book text-white text-lg"></i>
                        </div>
                        Subject Matter
                    </h3>
                    <div class="bg-gradient-to-br from-purple-50 to-indigo-100 rounded-2xl p-8 border-2 border-purple-200">
                        <div class="whitespace-pre-wrap text-gray-700 text-lg leading-relaxed">{{ draft.subject_matter }}</div>
                    </div>
                </div>
                {% endif %}

                <!-- Materials Needed -->
                {% if draft.materials_needed %}
                <div class="mb-10">
                    <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
                        <div class="section-icon w-10 h-10 bg-warning rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-tools text-white text-lg"></i>
                        </div>
                        Materials & Resources
                    </h3>
                    <div class="bg-gradient-to-br from-amber-50 to-yellow-100 rounded-2xl p-8 border-2 border-amber-200">
                        <div class="whitespace-pre-wrap text-gray-700 text-lg leading-relaxed">{{ draft.materials_needed }}</div>
                    </div>
                </div>
                {% endif %}

                <!-- Lesson Procedure -->
                <div class="mb-10">
                    <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
                        <div class="section-icon w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-tasks text-white text-lg"></i>
                        </div>
                        Lesson Procedure
                    </h3>
                    <div class="space-y-6">
                        <!-- Introduction -->
                        {% if draft.introduction %}
                        <div class="activity-card">
                            <div class="flex items-center justify-between mb-4">
                                <h4 class="font-bold text-dark text-xl flex items-center">
                                    <i class="fas fa-rocket text-2xl mr-3 text-blue-500"></i>
                                    Introduction
                                </h4>
                                <span class="time-badge text-white px-4 py-2 rounded-full text-sm font-bold">10-15 minutes</span>
                            </div>
                            <div class="text-gray-700 leading-relaxed text-lg whitespace-pre-wrap">{{ draft.introduction }}</div>
                        </div>
                        {% endif %}
                        
                        <!-- Instruction -->
                        {% if draft.instruction %}
                        <div class="activity-card">
                            <div class="flex items-center justify-between mb-4">
                                <h4 class="font-bold text-dark text-xl flex items-center">
                                    <i class="fas fa-chalkboard-teacher text-2xl mr-3 text-green-500"></i>
                                    Instruction
                                </h4>
                                <span class="time-badge text-white px-4 py-2 rounded-full text-sm font-bold">20-25 minutes</span>
                            </div>
                            <div class="text-gray-700 leading-relaxed text-lg whitespace-pre-wrap">{{ draft.instruction }}</div>
                        </div>
                        {% endif %}
                        
                        <!-- Application -->
                        {% if draft.application %}
                        <div class="activity-card">
                            <div class="flex items-center justify-between mb-4">
                                <h4 class="font-bold text-dark text-xl flex items-center">
                                    <i class="fas fa-hands-helping text-2xl mr-3 text-purple-500"></i>
                                    Application
                                </h4>
                                <span class="time-badge text-white px-4 py-2 rounded-full text-sm font-bold">15-20 minutes</span>
                            </div>
                            <div class="text-gray-700 leading-relaxed text-lg whitespace-pre-wrap">{{ draft.application }}</div>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Assessment & Evaluation -->
                <div class="mb-10">
                    <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
                        <div class="section-icon w-10 h-10 bg-red-500 rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-clipboard-check text-white text-lg"></i>
                        </div>
                        Assessment & Evaluation
                    </h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        {% if draft.assessment %}
                        <div class="bg-gradient-to-br from-red-50 to-pink-100 rounded-2xl p-6 border-2 border-red-200">
                            <h4 class="font-bold text-red-800 text-lg mb-3 flex items-center">
                                <i class="fas fa-chart-bar text-xl mr-2"></i>
                                Assessment
                            </h4>
                            <div class="text-gray-700 leading-relaxed whitespace-pre-wrap">{{ draft.assessment }}</div>
                        </div>
                        {% endif %}
                        
                        {% if draft.evaluation %}
                        <div class="bg-gradient-to-br from-red-50 to-pink-100 rounded-2xl p-6 border-2 border-red-200">
                            <h4 class="font-bold text-red-800 text-lg mb-3 flex items-center">
                                <i class="fas fa-analytics text-xl mr-2"></i>
                                Evaluation
                            </h4>
                            <div class="text-gray-700 leading-relaxed whitespace-pre-wrap">{{ draft.evaluation }}</div>
                        </div>
                        {% endif %}
                    </div>
                </div>

                <!-- Generated Content (if available) -->
                {% if draft.generated_content %}
                <div class="mb-10">
                    <h3 class="text-2xl font-bold text-dark mb-6 flex items-center">
                        <div class="section-icon w-10 h-10 bg-accent rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-robot text-white text-lg"></i>
                        </div>
                        AI Generated Content
                    </h3>
                    <div class="bg-gradient-to-br from-cyan-50 to-blue-100 rounded-2xl p-8 border-2 border-cyan-200">
                        <div class="prose max-w-none">
                            {{ draft.generated_content|markdown|safe }}
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>

        <!-- Enhanced Professional Signature Section -->
        <div class="approval-section p-8 lg:p-12 border-t-4 border-gray-300 relative">
            <div class="text-center mb-10">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-4">
                    <i class="fas fa-stamp text-white text-2xl"></i>
                </div>
                <h3 class="text-3xl font-bold text-dark mb-3">OFFICIAL APPROVAL</h3>
                <div class="w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-600 mx-auto"></div>
                <p class="text-gray-600 mt-4 text-lg">Required signatures for lesson plan validation</p>
            </div>
            
            <div class="signature-grid grid grid-cols-1 lg:grid-cols-2 gap-10">
                <!-- Teacher Section -->
                <div class="signature-box rounded-2xl p-8 border-2 border-gray-200">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center mr-4">
                            <i class="fas fa-user-graduate text-white text-lg"></i>
                        </div>
                        <h4 class="font-bold text-primary text-lg uppercase tracking-wide">Teacher</h4>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Name</label>
                            <div class="border-b-2 border-gray-400 pb-2 min-h-[32px] bg-gray-50 rounded-t-lg px-3 text-gray-600">
                                {{ request.user.get_full_name|default:request.user.username }}
                            </div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Date Prepared</label>
                            <div class="border-b-2 border-gray-400 pb-2 min-h-[32px] bg-gray-50 rounded-t-lg px-3 text-gray-600">
                                {{ draft.created_at|date:"F d, Y" }}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Principal Section -->
                <div class="signature-box rounded-2xl p-8 border-2 border-gray-200">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center mr-4">
                            <i class="fas fa-user-tie text-white text-lg"></i>
                        </div>
                        <h4 class="font-bold text-purple-700 text-lg uppercase tracking-wide">Administrative Approval</h4>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Principal Signature</label>
                            <div class="signature-line bg-gray-50 rounded-lg min-h-[40px] border-b-2 border-gray-400"></div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Principal Name</label>
                            <div class="border-b-2 border-gray-400 pb-2 min-h-[32px] bg-gray-50 rounded-t-lg px-3"></div>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-3">Date</label>
                            <div class="border-b-2 border-gray-400 pb-2 min-h-[32px] bg-gray-50 rounded-t-lg px-3"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Submission Status (if submitted) -->
            {% if latest_submission %}
            <div class="mt-12 bg-white rounded-2xl p-8 border-2 border-gray-200 shadow-lg">
                <div class="flex items-center justify-center mb-6">
                    <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center mr-3">
                        <i class="fas fa-info text-white text-sm"></i>
                    </div>
                    <h4 class="font-bold text-dark text-xl">Submission Status</h4>
                </div>
                
                <div class="text-center mb-6">
                    <span class="inline-flex items-center px-6 py-3 rounded-full text-lg font-bold status-{{ latest_submission.status }}">
                        <i class="fas fa-{% if latest_submission.status == 'approved' %}check{% elif latest_submission.status == 'rejected' %}times{% elif latest_submission.status == 'needs_revision' %}exclamation{% else %}clock{% endif %} mr-3 text-xl"></i>
                        Status: {{ latest_submission.get_status_display }}
                    </span>
                </div>

                {% if latest_submission.review_notes %}
                <div>
                    <label class="block text-lg font-bold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-comment mr-3 text-blue-500"></i>
                        Administrative Feedback
                    </label>
                    <div class="min-h-[120px] border-2 border-gray-300 rounded-2xl p-6 bg-gradient-to-br from-gray-50 to-white">
                        <div class="text-gray-700 whitespace-pre-wrap">{{ latest_submission.review_notes }}</div>
                    </div>
                </div>
                {% endif %}
            </div>
            {% endif %}
        </div>

        <!-- Enhanced Professional Footer -->
        <div class="bg-gradient-to-r from-gray-800 via-gray-900 to-black text-white px-8 py-8 text-center relative overflow-hidden">
            <div class="relative z-10">
                <div class="flex items-center justify-center mb-4">
                    <div class="w-8 h-8 bg-gradient-to-r from-blue-400 to-purple-400 rounded-full flex items-center justify-center mr-3">
                        <i class="fas fa-certificate text-white text-sm"></i>
                    </div>
                    <p class="font-bold text-lg">Official Educational Document</p>
                </div>
                
                <p class="text-blue-200 mb-2">
                    <i class="fas fa-file-contract mr-2"></i>
                    This document requires official signatures from both Teacher and Principal for validation
                </p>
                <div class="w-24 h-0.5 bg-gradient-to-r from-blue-400 to-purple-400 mx-auto my-4"></div>
                <p class="text-xs text-gray-400">
                    Generated by LessonLink Professional System • 
                    {{ draft.created_at|date:"F d, Y" }} • 
                    Excellence in Education
                </p>
            </div>
        </div>
    </div>

    <script>
        // Enhanced back navigation
        function goBack() {
            // Add smooth transition effect
            document.body.style.transition = 'opacity 0.3s ease-out';
            document.body.style.opacity = '0.7';
            
            setTimeout(() => {
                if (window.history.length > 1) {
                    window.history.back();
                } else {
                    window.location.href = "{% url 'draft_list' %}";
                }
            }, 150);
        }

        // Add enhanced smooth scroll behavior
        document.documentElement.style.scrollBehavior = 'smooth';

        // Add subtle animations to cards on scroll
        document.addEventListener('DOMContentLoaded', function() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, observerOptions);

            // Observe all major sections
            document.querySelectorAll('.activity-card, .info-badge, .signature-box').forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        });

        // Set current date in footer
        document.addEventListener('DOMContentLoaded', function() {
            const currentDate = new Date().toLocaleDateString('en-US', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            // Update any date elements if needed
            const dateElements = document.querySelectorAll('#current-date, #footer-date');
            dateElements.forEach(el => {
                if (el) el.textContent = currentDate;
            });
        });
    </script>
</body>
</html>